<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • rsofun</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rsofun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/geco-bern/rsofun/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/geco-bern/rsofun/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0" id="rsofun-000">rsofun 0.0.0<a class="anchor" aria-label="anchor" href="#rsofun-000"></a></h2>
<ul><li>This is a test-release on fabern/rsofun to test the simulatneous rendering of documentations for development and release versions (see <a href="https://pkgdown.r-lib.org/reference/build_site.html#development-mode" class="external-link uri">https://pkgdown.r-lib.org/reference/build_site.html#development-mode</a> )</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.0" id="rsofun-510">rsofun 5.1.0<a class="anchor" aria-label="anchor" href="#rsofun-510"></a></h2><p class="text-muted">CRAN release: 2025-10-09</p>
<div class="section level3">
<h3 id="new-features-5-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-5-1-0"></a></h3>
<ul><li>P-model:
<ul><li>New <code><a href="../reference/run_pmodel_onestep_f_bysite.html">run_pmodel_onestep_f_bysite()</a></code> adds single-step leaf-level simulations of the P-model</li>
<li>Changed temperature dependencies of Vcmax and Jmax (see breaking changes below)</li>
<li>Added support for carbon isotope tracking
<ul><li>
<code><a href="../reference/run_pmodel_onestep_f_bysite.html">run_pmodel_onestep_f_bysite()</a></code> returns <code>bigdelta</code>, i.e. the carbon fractionation of fresh assimilate <code>cleafd13c</code> relative to <code>d13c_atm</code>, thereby avoiding any assumptions for <code>d13c_atm</code>.</li>
<li>
<code><a href="../reference/run_pmodel_f_bysite.html">run_pmodel_f_bysite()</a></code> and <code>runread_pmodel()</code> newly return <code>cleaf</code> and <code>cleafd13c</code>, assuming a constant atmospheric signature <code>d13c_atm = -8.4 permil</code>. In a future version daily values of d13c_atm could/should be included in the input forcing.</li>
</ul></li>
</ul></li>
<li>BiomeE:
<ul><li>Added support for LULUC (land use, land-use change) in BiomeE. See vignette <code>biome_luluc</code> for details.</li>
<li>New BiomeE behavior to recycle last year of forcing if requested simulation time span (<code>nyeartrend</code>) is longer than available forcing data.</li>
<li>Prepared support for carbon isotope tracking
<ul><li>
<code><a href="../reference/run_biomee_f_bysite.html">run_biomee_f_bysite()</a></code> and <code>runread_biomee()</code> do track carbon isotopes internally, currently without output. Note that when <code>method_photosynth == "gs_leuning"</code>, then <code>bigdelta = 20</code>, whereas when <code>method_photosynth == "pmodel"</code> then <code>bigdelta</code> is computed based on the <code>pmodel</code>-derived <code>chi</code>.</li>
</ul></li>
</ul></li>
<li>
<code><a href="../reference/calib_sofun.html">calib_sofun()</a></code> now passes parameters as a <em>named</em> vector to cost-functions for easier processing within cost-functions. Default cost-functions were updated, but currently ignore the names. This is fully backward compatible, but allows to use the names in user-created cost functions.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-5-1-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-5-1-0"></a></h3>
<ul><li><p>P-model now computes temperature dependencies of jmax and vcmax with Kumarathunge et al. (2019) instead of Kattge &amp; Knorr (2007), effectively using a dampened signal for tc_growth and long-term averages for tc_home. This alters the simulation results. Formatting of inputs remains unchanged.</p></li>
<li>
<p>Breaking changes in BiomeE drivers:</p>
<ul><li>
<code>init_cohort$init_n_cohorts</code> column has been phased out and must not be present in<br>
drivers to protect against data corruption.</li>
<li>
<code>update_annualLAImax</code> flag was removed and the behavior is now slightly altered since <code>LAImax</code> and <code>underLAImax</code> are set and kept constant at the start of the simulation:
<ul><li>
<code>LAImax</code> takes value <code>max(LAI_light, 0.5)</code>
</li>
<li>
<code>underLAImax</code> takes value <code>min(LAImax, 1.2)</code>
</li>
</ul></li>
<li>
<code>do_closedN_run</code> flag now uses initial inorganic N setting rather than arbitrary value and is false by default.</li>
<li>Modified drivers to use more sensibles values
<ul><li>Species 1 is now a C4 crop</li>
<li>
<code>N_input</code> is set to 0.01 to limit N starvation.</li>
</ul></li>
</ul></li>
<li>
<p>Breaking changes in BiomeE output</p>
<ul><li>renamed the following column names in <code>output_daily_tile</code>:
<ul><li>
<code>totWs</code>=&gt;<code>SoilWater</code>
</li>
<li>
<code>Trsp</code>=&gt;<code>Transp</code>
</li>
<li>
<code>SW_C</code>=&gt;<code>sapwoodC</code> and <code>SW_N</code>=&gt;<code>sapwoodN</code>
</li>
<li>
<code>HW_C</code>=&gt;<code>heartwoodC</code> and <code>HW_N</code>=&gt;<code>heartwoodN</code>
</li>
<li>
<code>McrbC</code>=&gt;<code>mcrbC</code> and <code>McrbN</code>=&gt;<code>mcrbN</code>
</li>
<li>added <code>NPP</code>
</li>
</ul></li>
<li>renamed the following column names in <code>output_annual_tile</code> and <code>output_annual_cell</code>:
<ul><li>
<code>rain</code>=&gt;<code>Prcp</code>
</li>
<li>
<code>SeedC</code>=&gt;<code>seedC</code> (and for <code>N</code>)</li>
<li>
<code>SapwoodC</code>=&gt;<code>sapwoodC</code> (and for <code>N</code>)</li>
<li>
<code>WoodC</code>=&gt;<code>heartwoodC</code> (and for <code>N</code>)</li>
<li>
<code>SlowSOM</code>=&gt;<code>slowSOM</code>
</li>
<li>
<code>McrbC</code>=&gt;<code>mcrbC</code> and <code>McrbN</code>=&gt;<code>mcrbN</code>
</li>
<li>added <code>totC</code>
</li>
</ul></li>
<li>renamed the following column names in <code>output_annual_cohorts</code>:
<ul><li>
<code>nsc</code>=&gt;<code>NSC</code> and <code>nsn</code>=&gt;<code>NSN</code>
</li>
<li>
<code>sapwC</code>=&gt;<code>sapwoodC</code>
</li>
<li>
<code>woodC</code>=&gt;<code>heartwoodC</code>
</li>
<li>
<code>Nupt</code>=&gt;<code>N_uptk</code>
</li>
<li>
<code>Nfix</code>=&gt;<code>N_fxed</code>
</li>
<li>switched column positions of <code>NPP</code> and <code>GPP</code>
</li>
</ul></li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.0.1" id="rsofun-v501">rsofun v5.0.1<a class="anchor" aria-label="anchor" href="#rsofun-v501"></a></h2>
<ul><li>This model version behaves exactly as the version before.</li>
<li>Update was necessary to include description of scripts and data used for the model documentation paper into archive on Zenodo</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.0.0" id="rsofun-v500">rsofun v5.0.0<a class="anchor" aria-label="anchor" href="#rsofun-v500"></a></h2><p class="text-muted">CRAN release: 2024-11-28</p>
<ul><li>new BiomeE forcing data matching that of P-model
<ul><li>
<code>prec</code> is now called <code>rain</code>
</li>
<li>
<code>rh</code> is now provided as <code>vpd</code>
</li>
<li>See <code>biomee_gs_leuning_drivers</code> for an example</li>
</ul></li>
<li>fix Fortran modules leading to segmentation faults using BiomeE model</li>
<li>improved documentation</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.4.1" id="rsofun-v441">rsofun v4.4.1<a class="anchor" aria-label="anchor" href="#rsofun-v441"></a></h2>
<ul><li>bugfix Fortran modules and derived types</li>
<li>compilation flags for different platforms</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.4" id="rsofun-v44">rsofun v4.4<a class="anchor" aria-label="anchor" href="#rsofun-v44"></a></h2><p class="text-muted">CRAN release: 2023-10-30</p>
<ul><li>bugfix on input data type P-model</li>
<li>LM3-PPA to BiomeE renaming</li>
<li>cost function rewrite</li>
<li>update output format (consistency)</li>
<li>add water balance variables to P-model output</li>
<li>new p-model calibratable parameters</li>
<li>rewrite of temperature and soil moisture stress functions</li>
<li>update simulation parameters to take netrad, ppfd and ccov as input forcing</li>
<li>documentation parameter sensitivity analysis</li>
<li>documentation on the data format</li>
<li>document calibration diagnostic and model uncertainty calculation</li>
<li>more transparent licensing and copyright statements in COPYING file</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.3" id="rsofun-v43">rsofun v4.3<a class="anchor" aria-label="anchor" href="#rsofun-v43"></a></h2>
<ul><li>Consistent variable names p-model / biomee</li>
<li>optimization stability BayesianTools</li>
<li>documentation</li>
<li>Bugfixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.2" id="rsofun-v42">rsofun v4.2<a class="anchor" aria-label="anchor" href="#rsofun-v42"></a></h2>
<ul><li>Canopy transfer solved for BiomeE with P-model</li>
<li>Bugfixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.1" id="rsofun-v41">rsofun v4.1<a class="anchor" aria-label="anchor" href="#rsofun-v41"></a></h2>
<ul><li>Catching aborting in FORTRAN part to avoid R session crashes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0" id="rsofun-v40">rsofun v4.0<a class="anchor" aria-label="anchor" href="#rsofun-v40"></a></h2>
<ul><li>Public release after refactored code</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/geco-bern" target="_blank" class="external-link">
                          <div class="icon fab fa-github"></div></a>
                        <a href="https://geco-group.org" target="_blank" class="external-link">
                          <div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/SteniBocker/" target="_blank" class="external-link">
                          <div class="icon fab fa-twitter"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://geco-group.org/" class="external-link">GECO</a></li>
                            <li><a href="https://geco-group.org/people/" class="external-link">Our Team</a></li>
                            <li><a href="https://geco-group.org/contact/" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://github.com/geco-bern" class="external-link">Packages</a></li>
                            <li><a href="https://geco-group.org/publication/" class="external-link">Publications</a></li>
                            <li><a href="https://geco-group.org/post/" class="external-link">Blog</a></li>
                        </ul></div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

  </div></footer></body></html>

